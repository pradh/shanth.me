---
import Base from "../../layouts/Base.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const posts = await getCollection("blog");
  return posts.map((p) => ({
    params: { slug: p.slug },
    props: { post: p },
  }));
}

const { post } = Astro.props;
const { Content } = await post.render();
---

<Base title={post.data.title} description={post.data.description}>
  <section class="terminal-window">
    <header class="terminal-window__header">
      <div class="terminal-window__dots">
        <span aria-hidden="true" class="terminal-window__dot" />
        <span aria-hidden="true" class="terminal-window__dot" />
        <span aria-hidden="true" class="terminal-window__dot" />
      </div>
      <nav class="terminal-window__social" aria-label="Social links">
        <a class="terminal-window__social-link" href="https://www.linkedin.com/in/shanthr" target="_blank" rel="noopener">
          <span class="sr-only">LinkedIn</span>
          <svg aria-hidden="true" viewBox="0 0 24 24" focusable="false">
            <path
              d="M20.45 3H3.55A.55.55 0 0 0 3 3.55v16.9c0 .3.24.55.55.55h16.9c.3 0 .55-.24.55-.55V3.55A.55.55 0 0 0 20.45 3ZM8.2 18.2H5.8V9.7h2.4v8.5ZM7 8.55A1.4 1.4 0 1 1 7 5.76a1.4 1.4 0 0 1 0 2.79Zm11.2 9.65h-2.4v-4.5c0-1.07-.38-1.8-1.32-1.8-.72 0-1.15.49-1.34.96-.07.17-.09.41-.09.64v4.69h-2.38s.03-7.62 0-8.5h2.38v1.2c.32-.5.89-1.2 2.16-1.2 1.58 0 2.79 1.03 2.79 3.24v5.26Z"
              fill="currentColor"
            />
          </svg>
        </a>
        <a class="terminal-window__social-link" href="https://x.com/_shanth" target="_blank" rel="noopener">
          <span class="sr-only">X (Twitter)</span>
          <svg aria-hidden="true" viewBox="0 0 24 24" focusable="false">
            <path
              d="M18.5 4H21l-6.27 7.17L21.88 20h-5.06l-3.97-4.74L8.3 20H3l6.6-7.59L3.24 4h5.15l3.58 4.29L18.5 4Zm-.89 14.37h1.41L6.46 5.57H4.97l12.64 12.8Z"
              fill="currentColor"
            />
          </svg>
        </a>
        <a class="terminal-window__social-link" href="https://github.com/pradh" target="_blank" rel="noopener">
          <span class="sr-only">GitHub</span>
          <svg aria-hidden="true" viewBox="0 0 24 24" focusable="false">
            <path
              d="M12 2a10 10 0 0 0-3.16 19.49c.5.09.68-.22.68-.48 0-.24-.01-.86-.01-1.68-2.78.6-3.37-1.34-3.37-1.34-.45-1.14-1.1-1.45-1.1-1.45-.9-.62.07-.61.07-.61 1 .07 1.53 1.05 1.53 1.05.89 1.53 2.34 1.09 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.95 0-1.09.39-1.98 1.03-2.68-.1-.25-.45-1.27.1-2.64 0 0 .84-.27 2.75 1.02a9.6 9.6 0 0 1 5 0c1.9-1.29 2.74-1.02 2.74-1.02.55 1.37.2 2.39.1 2.64.64.7 1.03 1.59 1.03 2.68 0 3.85-2.34 4.7-4.57 4.95.36.31.68.91.68 1.84 0 1.33-.01 2.4-.01 2.72 0 .26.18.58.69.48A10 10 0 0 0 12 2Z"
              fill="currentColor"
            />
          </svg>
        </a>
      </nav>
    </header>
    <article class="terminal-window__body">
      <h1>{post.data.title}</h1>
      <Content />
    </article>
  </section>
</Base>
